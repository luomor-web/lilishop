manager          | 2023-01-04 14:17:15.229 ERROR 1 --- [Create-66845334] com.alibaba.druid.pool.DruidDataSource   : create connection SQLException, url: jdbc:mysql://127.0.0.1:3306/lilishop?useUnicode=true&characterEncoding=utf-8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai, errorCode 0, state 08S01
manager          |
manager          | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
manager          |
manager          | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
manager          |      at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
manager          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
manager          |      at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
manager          |      at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
manager          |      at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
manager          |      at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
manager          |      at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:156)
manager          |      at com.alibaba.druid.filter.FilterAdapter.connection_connect(FilterAdapter.java:787)
manager          |      at com.alibaba.druid.filter.FilterEventAdapter.connection_connect(FilterEventAdapter.java:38)
manager          |      at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150)
manager          |      at com.alibaba.druid.filter.FilterAdapter.connection_connect(FilterAdapter.java:787)
manager          |      at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150)
manager          |      at com.alibaba.druid.filter.stat.StatFilter.connection_connect(StatFilter.java:251)
manager          |      at com.alibaba.druid.filter.FilterChainImpl.connection_connect(FilterChainImpl.java:150)
manager          |      at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1659)
manager          |      at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:1723)
manager          |      at com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2838)
manager          | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
manager          |
manager          | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
manager          |      at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
manager          |      at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
manager          |      at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
manager          |      at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
manager          |      at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
manager          |      at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
manager          |      at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
manager          |      at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
manager          |      at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
manager          |      at com.mysql.cj.NativeSession.connect(NativeSession.java:119)
manager          |      at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
manager          |      at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
manager          |      ... 14 common frames omitted
manager          | Caused by: java.net.ConnectException: Connection refused (Connection refused)
manager          |      at java.net.PlainSocketImpl.socketConnect(Native Method)
manager          |      at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
manager          |      at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
manager          |      at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
manager          |      at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
manager          |      at java.net.Socket.connect(Socket.java:589)
manager          |      at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156)
manager          |      at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
manager          |      ... 17 common frames omitted
manager          |

xxl-job          | 15:01:18.475 logback [xxl-job, admin JobFailMonitorHelper] ERROR c.x.j.a.c.t.JobFailMonitorHelper - >>>>>>>>>>> xxl-job, job fail monitor
thread error:{}
xxl-job          | org.springframework.jdbc.BadSqlGrammarException:
xxl-job          | ### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          | ### The error may exist in class path resource [mybatis-mapper/XxlJobLogMapper.xml]
xxl-job          | ### The error may involve defaultParameterMap
xxl-job          | ### The error occurred while setting parameters
xxl-job          | ### SQL: SELECT id FROM `xxl_job_log`   WHERE !(    (trigger_code in (0, 200) and handle_code = 0)    OR    (handle_code = 200)   )   AND
`alarm_status` = 0   ORDER BY id ASC   LIMIT ?
xxl-job          | ### Cause: java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          | ; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          |      at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
xxl-job          |      at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
xxl-job          |      at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
xxl-job          |      at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
xxl-job          |      at com.sun.proxy.$Proxy70.selectList(Unknown Source)
xxl-job          |      at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
xxl-job          |      at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
xxl-job          |      at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
xxl-job          |      at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
xxl-job          |      at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
xxl-job          |      at com.sun.proxy.$Proxy71.findFailJobLogIds(Unknown Source)
xxl-job          |      at com.xxl.job.admin.core.thread.JobFailMonitorHelper$1.run(JobFailMonitorHelper.java:41)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | Caused by: java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
xxl-job          |      at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
xxl-job          |      at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
xxl-job          |      at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
xxl-job          |      at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
xxl-job          |      at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
xxl-job          |      at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:89)
xxl-job          |      at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
xxl-job          |      at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
xxl-job          |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
xxl-job          |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
xxl-job          |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
xxl-job          |      at java.lang.reflect.Method.invoke(Method.java:498)
xxl-job          |      at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
xxl-job          |      ... 9 common frames omitted
xxl-job          | 15:01:19.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:20.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:21.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:22.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:23.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:24.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:25.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:26.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:27.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:28.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:28.477 logback [xxl-job, admin JobFailMonitorHelper] ERROR c.x.j.a.c.t.JobFailMonitorHelper - >>>>>>>>>>> xxl-job, job fail monitor
thread error:{}
xxl-job          | org.springframework.jdbc.BadSqlGrammarException:
xxl-job          | ### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          | ### The error may exist in class path resource [mybatis-mapper/XxlJobLogMapper.xml]
xxl-job          | ### The error may involve defaultParameterMap
xxl-job          | ### The error occurred while setting parameters
xxl-job          | ### SQL: SELECT id FROM `xxl_job_log`   WHERE !(    (trigger_code in (0, 200) and handle_code = 0)    OR    (handle_code = 200)   )   AND
`alarm_status` = 0   ORDER BY id ASC   LIMIT ?
xxl-job          | ### Cause: java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          | ; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          |      at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
xxl-job          |      at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
xxl-job          |      at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
xxl-job          |      at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
xxl-job          |      at com.sun.proxy.$Proxy70.selectList(Unknown Source)
xxl-job          |      at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
xxl-job          |      at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
xxl-job          |      at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
xxl-job          |      at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
xxl-job          |      at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
xxl-job          |      at com.sun.proxy.$Proxy71.findFailJobLogIds(Unknown Source)
xxl-job          |      at com.xxl.job.admin.core.thread.JobFailMonitorHelper$1.run(JobFailMonitorHelper.java:41)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | Caused by: java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_log' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
xxl-job          |      at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
xxl-job          |      at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
xxl-job          |      at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
xxl-job          |      at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
xxl-job          |      at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
xxl-job          |      at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:89)
xxl-job          |      at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
xxl-job          |      at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
xxl-job          |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
xxl-job          |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
xxl-job          |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
xxl-job          |      at java.lang.reflect.Method.invoke(Method.java:498)
xxl-job          |      at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
xxl-job          |      ... 9 common frames omitted
xxl-job          | 15:01:29.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:30.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)
xxl-job          | 15:01:31.001 logback [xxl-job, admin JobScheduleHelper#scheduleThread] ERROR c.x.j.a.c.thread.JobScheduleHelper - >>>>>>>>>>> xxl-job, JobScheduleHelper#scheduleThread error:{}
xxl-job          | java.sql.SQLSyntaxErrorException: Table 'lilishop.xxl_job_lock' doesn't exist
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
xxl-job          |      at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
xxl-job          |      at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
xxl-job          |      at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
xxl-job          |      at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
xxl-job          |      at com.xxl.job.admin.core.thread.JobScheduleHelper$1.run(JobScheduleHelper.java:74)
xxl-job          |      at java.lang.Thread.run(Thread.java:748)

seller           | 2023-01-04 15:38:16.931  WARN 1 --- [gistrationTask1] d.c.b.a.c.r.ApplicationRegistrator       : Failed to register application as Application(name=seller-api, managementUrl=http://3844a791a7a7:8889/actuator, healthUrl=http://3844a791a7a7:8889/actuator/health, serviceUrl=http://3844a791a7a7:8889/) at spring-boot-admin ([http://172.21.16.11:8000/instances]): I/O error on POST request for "http://172.21.16.11:8000/instances": Connect to 172.21.16.11:8000 [/172.21.16.11] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to 172.21.16.11:8000 [/172.21.16.11] failed: Connection refused (Connection refused). Further attempts are logged on DEBUG level
